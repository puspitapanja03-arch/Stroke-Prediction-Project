<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stroke Prediction Project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .feature-box {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            transition: 0.3s;
        }
        .feature-box:hover {
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }
        .form-section {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .page-header {
            margin-bottom: 30px;
        }
        p {
            text-align: justify;
        }
    </style>
    <script>
        function f() {
            var gender = document.f1.gender.value;
            var age = Number(document.f1.age.value);
            var hypertension = document.f1.hypertension.value;
            var heart_disease = document.f1.heart_disease.value;
            var ever_married = document.f1.ever_married.value;
            var work_type = document.f1.work_type.value;
            var Residence_type = document.f1.Residence_type.value;
            var avg_glucose_level = Number(document.f1.avg_glucose_level.value);
            var bmi = Number(document.f1.bmi.value);
            var smoking_status = document.f1.smoking_status.value;

            if(gender=="") { alert("Please select the gender."); document.f1.gender.focus(); return false; }
            if(age=="" || isNaN(age)) { alert("Please enter a valid age."); document.f1.age.focus(); return false; }
            if(!Number.isInteger(age)) { alert("Age must be an integer value."); document.f1.age.focus(); return false; }
            if(hypertension=="") { alert("Please select Hypertension option."); document.f1.hypertension.focus(); return false; }
            if(heart_disease=="") { alert("Please select Heart Disease option."); document.f1.heart_disease.focus(); return false; }
            if(ever_married=="") { alert("Please select Ever Married option."); document.f1.ever_married.focus(); return false; }
            if(work_type=="") { alert("Please select Work Type."); document.f1.work_type.focus(); return false; }
            if(Residence_type=="") { alert("Please select Residence Type."); document.f1.Residence_type.focus(); return false; }
            if(avg_glucose_level=="" || isNaN(avg_glucose_level)) { alert("Please enter a valid Average Glucose Level."); document.f1.avg_glucose_level.focus(); return false; }
            if(bmi=="" || isNaN(bmi)) { alert("Please enter a valid BMI."); document.f1.bmi.focus(); return false; }
            if(smoking_status=="") { alert("Please select Smoking Status."); document.f1.smoking_status.focus(); return false; }

            document.f1.submit();
        }
    </script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
        <div class="container">
            <a class="navbar-brand" href="#">Stroke Prediction</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active"aria-current="page" href="{% url 'home' %}">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'services' %}">Services</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <div class="container text-center page-header">
        <h1>Stroke Prediction Home Page</h1>
    </div>

    <!-- Introduction -->
    <div class="container mb-4">
        <p>
            A stroke is a serious medical condition that occurs when the blood supply to part of the brain is interrupted or reduced.
            This prevents brain tissue from getting enough oxygen and nutrients, causing brain cells to begin dying within minutes.
            A stroke is a medical emergency, and immediate treatment is crucial to reduce brain damage and potential complications.
        </p>
    </div>

    <!-- Form Section -->
    <div class="container col-md-7 mx-auto form-section">
        {% if result is not None %}
        <div class="bg-dark text-white text-center rounded mb-4 p-3">
            <h3><strong>{{result}}</strong></h3>
        </div>
        {% endif %}
        <form name="f1" method="POST">
            {% csrf_token %}
            <h3 class="mb-3">User Input Features</h3>

            <!-- Gender -->
            <div class="mb-3">
                <label class="form-label">Gender</label><br>
                <label><input type="radio" name="gender" value="1.0"> Male</label>
                <label class="ms-3"><input type="radio" name="gender" value="0.0"> Female</label>
                <label class="ms-3"><input type="radio" name="gender" value="2.0"> Other</label>
            </div>

            <!-- Age -->
            <div class="mb-3">
                <label class="form-label">Age</label>
                <input type="number" class="form-control" name="age" id="age" min="0" max="100" step="1" placeholder="Enter only year" required>
            </div>

            <!-- Hypertension -->
            <div class="mb-3">
                <label class="form-label">Hypertension</label><br>
                <label><input type="radio" name="hypertension" value="1"> Yes</label>
                <label class="ms-3"><input type="radio" name="hypertension" value="0"> No</label>
            </div>

            <!-- Heart Disease -->
            <div class="mb-3">
                <label class="form-label">Heart Disease</label><br>
                <label><input type="radio" name="heart_disease" value="1"> Yes</label>
                <label class="ms-3"><input type="radio" name="heart_disease" value="0"> No</label>
            </div>

            <!-- Ever Married -->
            <div class="mb-3">
                <label class="form-label">Ever Married</label><br>
                <label><input type="radio" name="ever_married" value="1.0"> Yes</label>
                <label class="ms-3"><input type="radio" name="ever_married" value="0.0"> No</label>
            </div>

            <!-- Work Type -->
            <div class="mb-3">
                <label class="form-label">Work Type</label>
                <select name="work_type" class="form-control" required>
                    <option value="">Select</option>
                    <option value="2.0">Private</option>
                    <option value="3.0">Self Employed</option>
                    <option value="0.0">Govt job</option>
                    <option value="4.0">Children</option>
                    <option value="1.0">Never worked</option>
                </select>
            </div>

            <!-- Residence Type -->
            <div class="mb-3">
                <label class="form-label">Residence Type</label>
                <select name="Residence_type" class="form-control" required>
                    <option value="">Select</option>
                    <option value="1.0">Urban</option>
                    <option value="0.0">Rural</option>
                </select>
            </div>

            <!-- Average Glucose Level -->
            <div class="mb-3">
                <label class="form-label">Average Glucose Level</label>
                <input type="number" class="form-control" name="avg_glucose_level" id="avg_glucose_level" min="10" max="500" step="0.1" required>
            </div>

            <!-- BMI -->
            <div class="mb-3">
                <label class="form-label">BMI (Body Mass Index)</label>
                <input type="number" class="form-control" name="bmi" id="bmi" min="10" max="100" step="0.1" required>
            </div>

            <!-- Smoking Status -->
            <div class="mb-3">
                <label class="form-label">Smoking Status</label>
                <select name="smoking_status" class="form-control" required>
                    <option value="">Select</option>
                    <option value="1.0">Formerly smoked</option>
                    <option value="2.0">Never Smoked</option>
                    <option value="3.0">Smokes</option>
                    <option value="0.0">Unknown</option>
                </select>
            </div>

            <div class="mb-3 text-center">
                <button type="button" class="btn btn-dark me-2" onclick="f()">Predict Stroke!</button>
                <button type="reset" class="btn btn-dark me-2">Reset</button>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>